window.loadLeverJobs=function(e){function t(e){return p[e]||e}function n(e){return void 0===e?"":e.replace(/[&<>]/g,t)}function a(e){return""==e||void 0===e?"uncategorized":(e=n(e),e.replace(/\s+/gi,""))}function r(e){function t(e){return e.department==v}function r(e){return e.team==u}if(e){"string"==typeof e&&(e=JSON.parse(e));for(var o="",s=[],d=0;d<e.length;d++)if(e[d]&&e[d].postings&&e[d].postings.length>0){var m=n(e[d].title||"Uncategorized"),p=a(m);for(j=0;j<e[d].postings.length;j++){var c=e[d].postings[j],g=c.categories.team||"Uncategorized",u=a(g),f=c.categories.department||"Uncategorized",v=a(f),h=c.hostedUrl+i;-1===s.findIndex(t)?(newDepartmentToAdd={department:v,departmentTitle:f,teams:[{team:u,teamTitle:g,postings:[]}]},s.push(newDepartmentToAdd)):(departmentIndex=s.findIndex(t),newTeamToAdd={team:u,teamTitle:g,postings:[]},-1===s[departmentIndex].teams.map(function(e){return e.team}).indexOf(u)&&s[departmentIndex].teams.push(newTeamToAdd)),departmentIndex=s.findIndex(t),teamIndex=s[departmentIndex].teams.findIndex(r),s[departmentIndex].teams[teamIndex].postings.push(c)}}s.sort(function(e,t){var n=e.department.toLowerCase(),a=t.department.toLowerCase();return n<a?-1:n>a?1:0});for(var d=0;d<s.length;d++){if(s.length>=2)var b=!0;for(b&&(o+='<section class="lever-department" data-department-title="'+s[d].department+'"><h3 class="lever-department-title">'+n(s[d].departmentTitle)+"</h3>"),j=0;j<s[d].teams.length;j++){o+='<ul class="lever-team" data-team="'+s[d].teams[j].team+'"><li><h4 class="lever-team-title">'+n(s[d].teams[j].teamTitle)+"</h4><ul>";for(var w=0;w<s[d].teams[j].postings.length;w++)o+='<li class="lever-job" data-team="'+s[d].teams[j].postings[w].categories.team+'" data-location="'+s[d].teams[j].postings[w].categories.location+'"data-work-type="'+s[d].teams[j].postings[w].categories.commitment+'"><a class="lever-job-title" href="'+s[d].teams[j].postings[w].hostedUrl+'"">'+n(s[d].teams[j].postings[w].text)+'</a><span class="lever-job-tag">'+(n(s[d].teams[j].postings[w].categories.location)||"")+"</span></li>";o+="</ul></li></ul>"}b&&(o+="</section>")}o+="</ul>",l.innerHTML=o}}function o(e){var t=document.head,n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e,t.appendChild(n)}var s=window.location.href,i="",d="?lever-";e.accountName=e.accountName.toLowerCase();var l=document.getElementById("lever-jobs-container")||document.body;if(s.indexOf("?lever-")>=0){var m=s.split("?lever-");i="?lever-"+m[1]}var p={"&":"&amp;","<":"&lt;",">":"&gt;"},c="https://api.lever.co/v0/postings/"+e.accountName+"?group=team&mode=json";e.includeCss&&o("https://andreasmb.github.io/lever-jobs-embed/embed-css/style.css");var g=new XMLHttpRequest;g.open("GET",c,!0),g.responseType="json",g.onload=function(){200==g.status?r(g.response):(console.log("Error fetching jobs."),l.innerHTML="<p class='lever-error'>Error fetching jobs.</p>")},g.onerror=function(){console.log("Error fetching jobs."),l.innerHTML="<p class='lever-error'>Error fetching jobs.</p>"},g.send()},window.loadLeverJobs(window.leverJobsOptions);